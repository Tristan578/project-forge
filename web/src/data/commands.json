{
  "version": "1.0",
  "commands": [
    {
      "name": "spawn_entity",
      "description": "Create a new entity in the scene (mesh primitive or light)",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityType": {
            "type": "string",
            "enum": ["cube", "sphere", "plane", "cylinder", "cone", "torus", "capsule", "point_light", "directional_light", "spot_light"],
            "description": "Type of entity to spawn"
          },
          "name": {
            "type": "string",
            "description": "Display name (auto-generated if omitted)"
          },
          "position": {
            "type": "array",
            "items": { "type": "number" },
            "minItems": 3,
            "maxItems": 3,
            "description": "World position [x, y, z]"
          }
        },
        "required": ["entityType"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "despawn_entity",
      "description": "Remove an entity from the scene by ID",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID to remove" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "delete_entities",
      "description": "Delete one or more entities by their IDs",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityIds": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Array of entity IDs to delete"
          }
        },
        "required": ["entityIds"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "duplicate_entity",
      "description": "Duplicate an entity (creates a copy with offset position)",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID to duplicate" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "update_transform",
      "description": "Set the position, rotation, and/or scale of an entity",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string" },
          "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "[x, y, z]" },
          "rotation": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "[rx, ry, rz] in degrees" },
          "scale": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "[sx, sy, sz]" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "rename_entity",
      "description": "Change the display name of an entity",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string" },
          "name": { "type": "string", "description": "New display name" }
        },
        "required": ["entityId", "name"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "reparent_entity",
      "description": "Move an entity to a new parent in the hierarchy",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to move" },
          "newParentId": { "type": "string", "description": "New parent entity ID (null for root)" },
          "index": { "type": "integer", "description": "Position among siblings (optional)" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_visibility",
      "description": "Show or hide an entity",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string" },
          "visible": { "type": "boolean" }
        },
        "required": ["entityId", "visible"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "select_entity",
      "description": "Select an entity in the viewport",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string" },
          "mode": { "type": "string", "enum": ["replace", "add", "toggle"], "description": "Selection mode (default: replace)" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "select_entities",
      "description": "Select multiple entities at once",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "entityIds": { "type": "array", "items": { "type": "string" } },
          "mode": { "type": "string", "enum": ["replace", "add"], "description": "Selection mode (default: replace)" }
        },
        "required": ["entityIds"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "clear_selection",
      "description": "Deselect all entities",
      "category": "scene",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "update_material",
      "description": "Update PBR material properties on an entity. Supports core PBR, UV transform, parallax, clearcoat, and transmission.",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string" },
          "baseColor": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4, "description": "[r, g, b, a] 0-1" },
          "metallic": { "type": "number", "minimum": 0, "maximum": 1 },
          "roughness": { "type": "number", "minimum": 0, "maximum": 1 },
          "reflectance": { "type": "number", "minimum": 0, "maximum": 1 },
          "emissive": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4, "description": "[r, g, b, a] 0-1" },
          "emissiveExposureWeight": { "type": "number", "minimum": 0, "maximum": 1 },
          "alphaMode": { "type": "string", "enum": ["Opaque", "Blend", "Mask"] },
          "alphaCutoff": { "type": "number", "minimum": 0, "maximum": 1 },
          "doubleSided": { "type": "boolean" },
          "unlit": { "type": "boolean" },
          "uvOffset": { "type": "array", "items": { "type": "number" }, "minItems": 2, "maxItems": 2, "description": "[x, y] UV offset" },
          "uvScale": { "type": "array", "items": { "type": "number" }, "minItems": 2, "maxItems": 2, "description": "[x, y] UV scale" },
          "uvRotation": { "type": "number", "description": "UV rotation in radians" },
          "parallaxDepthScale": { "type": "number", "minimum": 0, "maximum": 0.5 },
          "parallaxMappingMethod": { "type": "string", "enum": ["occlusion", "relief"] },
          "maxParallaxLayerCount": { "type": "number", "minimum": 1, "maximum": 128 },
          "parallaxReliefMaxSteps": { "type": "integer", "minimum": 1, "maximum": 32 },
          "clearcoat": { "type": "number", "minimum": 0, "maximum": 1 },
          "clearcoatPerceptualRoughness": { "type": "number", "minimum": 0, "maximum": 1 },
          "specularTransmission": { "type": "number", "minimum": 0, "maximum": 1 },
          "diffuseTransmission": { "type": "number", "minimum": 0, "maximum": 1 },
          "ior": { "type": "number", "minimum": 1.0, "maximum": 3.0, "description": "Index of refraction (1.0=air, 1.33=water, 1.5=glass, 2.42=diamond)" },
          "thickness": { "type": "number", "minimum": 0, "description": "Optical depth for transmission" },
          "attenuationDistance": { "type": "number", "minimum": 0, "description": "Distance light travels before being attenuated. Use null for infinity." },
          "attenuationColor": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "[r, g, b] 0-1 attenuation tint" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "apply_material_preset",
      "description": "Apply a predefined material preset to an entity by name",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to apply the preset to" },
          "presetId": {
            "type": "string",
            "enum": ["default_gray", "matte_white", "matte_black", "chalk_white", "clay", "plastic_basic", "polished_metal", "brushed_metal", "gold", "silver", "copper", "bronze", "iron", "chrome", "titanium", "aluminum", "concrete", "marble", "granite", "sand", "dirt", "brick", "leather", "ice", "glass", "water", "frosted_glass", "crystal", "diamond", "ceramic", "car_paint", "neon_glow", "lava", "holographic", "mirror", "cotton", "silk", "velvet", "denim", "wool", "canvas", "glossy_plastic", "matte_plastic", "rubber_soft", "acrylic", "resin", "slate", "limestone", "obsidian", "sandstone", "cobblestone", "oak", "pine", "walnut", "bamboo", "plywood"],
            "description": "Preset identifier"
          }
        },
        "required": ["entityId", "presetId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_custom_shader",
      "description": "Apply a custom shader effect to an entity, extending its PBR material with visual effects",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Target entity ID" },
          "shaderType": {
            "type": "string",
            "enum": ["none", "dissolve", "hologram", "force_field", "lava_flow", "toon", "fresnel_glow"],
            "description": "Shader effect type"
          },
          "customColor": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4, "description": "Custom tint color [r,g,b,a] 0-1" },
          "noiseScale": { "type": "number", "description": "Noise pattern scale (0.5-20)" },
          "emissionStrength": { "type": "number", "description": "Glow intensity (0-10)" },
          "dissolveThreshold": { "type": "number", "description": "Dissolve amount 0-1" },
          "dissolveEdgeWidth": { "type": "number", "description": "Edge glow width (0-0.2)" },
          "scanLineFrequency": { "type": "number", "description": "Hologram scan line count (10-200)" },
          "scanLineSpeed": { "type": "number", "description": "Hologram scan line speed (0.5-10)" },
          "scrollSpeed": { "type": "array", "items": { "type": "number" }, "minItems": 2, "maxItems": 2, "description": "UV scroll speed [x,y]" },
          "distortionStrength": { "type": "number", "description": "Flow distortion amount (0-1)" },
          "toonBands": { "type": "integer", "description": "Cel-shade band count (2-8)" },
          "fresnelPower": { "type": "number", "description": "Rim light falloff (1-10)" }
        },
        "required": ["entityId", "shaderType"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "remove_custom_shader",
      "description": "Remove custom shader effect from an entity, reverting to standard PBR rendering",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Target entity ID" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "list_shaders",
      "description": "List all available built-in shader effects with their descriptions",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "update_light",
      "description": "Update light properties on a light entity",
      "category": "lighting",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string" },
          "color": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "[r, g, b] 0-1" },
          "intensity": { "type": "number", "minimum": 0, "description": "Light intensity in lumens" },
          "shadowsEnabled": { "type": "boolean" },
          "shadowDepthBias": { "type": "number" },
          "shadowNormalBias": { "type": "number" },
          "range": { "type": "number", "description": "Point/Spot light range" },
          "radius": { "type": "number", "description": "Point/Spot light radius" },
          "innerAngle": { "type": "number", "description": "Spot light inner cone angle (radians)" },
          "outerAngle": { "type": "number", "description": "Spot light outer cone angle (radians)" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "update_ambient_light",
      "description": "Update the scene's ambient light",
      "category": "lighting",
      "parameters": {
        "type": "object",
        "properties": {
          "color": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "[r, g, b] 0-1" },
          "brightness": { "type": "number", "minimum": 0, "description": "Ambient brightness multiplier" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "update_environment",
      "description": "Update environment settings (clear color, fog)",
      "category": "environment",
      "parameters": {
        "type": "object",
        "properties": {
          "clearColor": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "[r, g, b] 0-1" },
          "fogEnabled": { "type": "boolean" },
          "fogColor": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
          "fogStart": { "type": "number" },
          "fogEnd": { "type": "number" },
          "skyboxBrightness": { "type": "number" },
          "iblIntensity": { "type": "number" },
          "iblRotation": { "type": "number" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "update_post_processing",
      "description": "Update post-processing visual effects (bloom, chromatic aberration, color grading, sharpening). Send only the effects you want to change.",
      "category": "rendering",
      "parameters": {
        "type": "object",
        "properties": {
          "bloom": {
            "type": "object",
            "description": "Bloom (glow) settings",
            "properties": {
              "enabled": { "type": "boolean", "description": "Enable/disable bloom" },
              "intensity": { "type": "number", "description": "Bloom intensity (0.0-1.0, default 0.15)" },
              "lowFrequencyBoost": { "type": "number", "description": "Low frequency boost (0.0-1.0)" },
              "lowFrequencyBoostCurvature": { "type": "number", "description": "Boost curvature (0.0-1.0)" },
              "highPassFrequency": { "type": "number", "description": "High pass filter (0.0-1.0)" },
              "prefilterThreshold": { "type": "number", "description": "Brightness threshold for bloom extraction" },
              "prefilterThresholdSoftness": { "type": "number", "description": "Threshold softness (0.0-1.0)" },
              "compositeMode": { "type": "string", "enum": ["energy_conserving", "additive"], "description": "How bloom layers combine" },
              "maxMipDimension": { "type": "integer", "description": "Max mip texture dimension" }
            }
          },
          "chromaticAberration": {
            "type": "object",
            "description": "Chromatic aberration (color fringe) settings",
            "properties": {
              "enabled": { "type": "boolean", "description": "Enable/disable chromatic aberration" },
              "intensity": { "type": "number", "description": "Aberration intensity (0.0-0.2)" },
              "maxSamples": { "type": "integer", "description": "Max texture samples (2-32)" }
            }
          },
          "colorGrading": {
            "type": "object",
            "description": "Color grading settings (exposure, temperature, saturation, etc.)",
            "properties": {
              "enabled": { "type": "boolean", "description": "Enable/disable color grading" },
              "global": {
                "type": "object",
                "properties": {
                  "exposure": { "type": "number", "description": "Exposure in EV stops (-3 to 3)" },
                  "temperature": { "type": "number", "description": "Color temperature shift (-1 to 1)" },
                  "tint": { "type": "number", "description": "Color tint shift (-1 to 1)" },
                  "hue": { "type": "number", "description": "Hue rotation in radians" },
                  "postSaturation": { "type": "number", "description": "Post-tonemapping saturation (0-2)" }
                }
              },
              "shadows": {
                "type": "object",
                "properties": {
                  "saturation": { "type": "number" },
                  "contrast": { "type": "number" },
                  "gamma": { "type": "number" },
                  "gain": { "type": "number" },
                  "lift": { "type": "number" }
                }
              },
              "midtones": {
                "type": "object",
                "properties": {
                  "saturation": { "type": "number" },
                  "contrast": { "type": "number" },
                  "gamma": { "type": "number" },
                  "gain": { "type": "number" },
                  "lift": { "type": "number" }
                }
              },
              "highlights": {
                "type": "object",
                "properties": {
                  "saturation": { "type": "number" },
                  "contrast": { "type": "number" },
                  "gamma": { "type": "number" },
                  "gain": { "type": "number" },
                  "lift": { "type": "number" }
                }
              }
            }
          },
          "sharpening": {
            "type": "object",
            "description": "Contrast adaptive sharpening settings",
            "properties": {
              "enabled": { "type": "boolean", "description": "Enable/disable sharpening" },
              "sharpeningStrength": { "type": "number", "description": "Sharpening strength (0.0-1.0)" },
              "denoise": { "type": "boolean", "description": "Avoid sharpening noisy areas" }
            }
          }
        }
      },
      "tokenCost": 0,
      "requiredScope": "rendering:write"
    },
    {
      "name": "get_post_processing",
      "description": "Get current post-processing settings (bloom, chromatic aberration, color grading, sharpening)",
      "category": "rendering",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "rendering:read"
    },
    {
      "name": "set_gizmo_mode",
      "description": "Change the transform gizmo mode",
      "category": "editor",
      "parameters": {
        "type": "object",
        "properties": {
          "mode": { "type": "string", "enum": ["translate", "rotate", "scale"] }
        },
        "required": ["mode"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_coordinate_mode",
      "description": "Toggle between world and local coordinate systems",
      "category": "editor",
      "parameters": {
        "type": "object",
        "properties": {
          "mode": { "type": "string", "enum": ["world", "local"] }
        },
        "required": ["mode"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_snap_settings",
      "description": "Configure grid snapping parameters",
      "category": "editor",
      "parameters": {
        "type": "object",
        "properties": {
          "translationSnap": { "type": "number", "description": "Snap grid size in world units" },
          "rotationSnapDegrees": { "type": "number" },
          "scaleSnap": { "type": "number" },
          "gridVisible": { "type": "boolean" },
          "gridSize": { "type": "number" },
          "gridExtent": { "type": "integer" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "toggle_grid",
      "description": "Show or hide the editor grid",
      "category": "editor",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_camera_preset",
      "description": "Move the editor camera to a preset view",
      "category": "camera",
      "parameters": {
        "type": "object",
        "properties": {
          "preset": { "type": "string", "enum": ["top", "front", "right", "perspective"], "description": "Camera preset" }
        },
        "required": ["preset"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "focus_camera",
      "description": "Frame the camera on the selected entity",
      "category": "camera",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to focus on (defaults to current selection)" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "undo",
      "description": "Undo the last action",
      "category": "history",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "redo",
      "description": "Redo the last undone action",
      "category": "history",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_scene_graph",
      "description": "Get the full scene hierarchy as JSON",
      "category": "query",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "get_entity_details",
      "description": "Get all component data for a specific entity",
      "category": "query",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "get_selection",
      "description": "Get the currently selected entity IDs",
      "category": "query",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "get_camera_state",
      "description": "Get the current editor camera position, target, and orientation",
      "category": "query",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "play",
      "description": "Enter play mode — starts game simulation, snapshots scene state",
      "category": "runtime",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "stop",
      "description": "Stop play mode — restores scene to pre-play state",
      "category": "runtime",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "pause",
      "description": "Pause play mode — freezes simulation",
      "category": "runtime",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "resume",
      "description": "Resume play mode from paused state",
      "category": "runtime",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_mode",
      "description": "Get current engine mode (edit, play, or paused)",
      "category": "runtime",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "set_input_binding",
      "description": "Create or update an input action binding (e.g. map 'jump' to Space key)",
      "category": "runtime",
      "parameters": {
        "type": "object",
        "properties": {
          "actionName": { "type": "string", "description": "Name of the input action (e.g. 'jump', 'move_forward')" },
          "actionType": { "type": "string", "enum": ["digital", "axis"], "description": "digital = on/off, axis = -1..+1" },
          "sources": { "type": "array", "items": { "type": "string" }, "description": "Key codes for digital actions (e.g. ['Space', 'KeyW'])" },
          "positiveKeys": { "type": "array", "items": { "type": "string" }, "description": "Positive direction keys for axis actions" },
          "negativeKeys": { "type": "array", "items": { "type": "string" }, "description": "Negative direction keys for axis actions" },
          "deadZone": { "type": "number", "description": "Dead zone for axis (default 0.1)" }
        },
        "required": ["actionName", "actionType"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "remove_input_binding",
      "description": "Remove an input action binding by name",
      "category": "runtime",
      "parameters": {
        "type": "object",
        "properties": {
          "actionName": { "type": "string", "description": "Name of the action to remove" }
        },
        "required": ["actionName"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_input_preset",
      "description": "Apply a built-in input preset (replaces all bindings)",
      "category": "runtime",
      "parameters": {
        "type": "object",
        "properties": {
          "preset": { "type": "string", "enum": ["fps", "platformer", "topdown", "racing"], "description": "Preset name" }
        },
        "required": ["preset"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_input_bindings",
      "description": "Get all current input action bindings and active preset",
      "category": "query",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "get_input_state",
      "description": "Get current per-frame input state (only meaningful during Play mode)",
      "category": "query",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "update_physics",
      "description": "Set physics properties on an entity (body type, collider, restitution, friction, density, gravity, locked axes)",
      "category": "runtime",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID to configure" },
          "bodyType": { "type": "string", "enum": ["dynamic", "fixed", "kinematic_position", "kinematic_velocity"], "description": "Rigid body type" },
          "colliderShape": { "type": "string", "enum": ["auto", "cuboid", "ball", "cylinder", "capsule"], "description": "Collider shape" },
          "restitution": { "type": "number", "minimum": 0, "maximum": 1, "description": "Bounciness (0-1)" },
          "friction": { "type": "number", "minimum": 0, "maximum": 1, "description": "Surface friction (0-1)" },
          "density": { "type": "number", "minimum": 0.01, "description": "Mass density" },
          "gravityScale": { "type": "number", "description": "Gravity multiplier (-10 to 10)" },
          "lockTranslationX": { "type": "boolean" },
          "lockTranslationY": { "type": "boolean" },
          "lockTranslationZ": { "type": "boolean" },
          "lockRotationX": { "type": "boolean" },
          "lockRotationY": { "type": "boolean" },
          "lockRotationZ": { "type": "boolean" },
          "isSensor": { "type": "boolean", "description": "If true, detects overlap without blocking" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "toggle_physics",
      "description": "Enable or disable physics simulation on an entity",
      "category": "runtime",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID" },
          "enabled": { "type": "boolean", "description": "true to enable, false to disable" }
        },
        "required": ["entityId", "enabled"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "toggle_debug_physics",
      "description": "Toggle debug wireframe rendering of physics colliders",
      "category": "editor",
      "parameters": { "type": "object", "properties": {} },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_physics",
      "description": "Get physics configuration for the selected entity",
      "category": "query",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID (defaults to primary selection)" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "apply_force",
      "description": "Apply a force or impulse to an entity during Play mode",
      "category": "runtime",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID to apply force to" },
          "force": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "Force vector [x, y, z]" },
          "impulse": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "Impulse vector [x, y, z] (instant)" },
          "torque": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "Torque vector [x, y, z]" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "export_scene",
      "description": "Export the current scene as a JSON string (.forge format). Triggers a SCENE_EXPORTED event with the full scene data.",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "load_scene",
      "description": "Load a scene from a JSON string (.forge format). Replaces the entire current scene.",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {
          "json": { "type": "string", "description": "Complete scene JSON in .forge format" }
        },
        "required": ["json"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "new_scene",
      "description": "Clear the current scene and start fresh with default settings",
      "category": "scene",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_scene_name",
      "description": "Get the current scene name and modification status",
      "category": "query",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "import_gltf",
      "description": "Import a glTF/GLB 3D model file (base64-encoded data) into the asset registry and scene",
      "category": "asset",
      "parameters": {
        "type": "object",
        "properties": {
          "dataBase64": { "type": "string", "description": "Base64-encoded glTF/GLB file data" },
          "name": { "type": "string", "description": "Display name for the imported model" }
        },
        "required": ["dataBase64", "name"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "load_texture",
      "description": "Load a texture image and assign it to a material slot on an entity",
      "category": "asset",
      "parameters": {
        "type": "object",
        "properties": {
          "dataBase64": { "type": "string", "description": "Base64-encoded image data (PNG/JPG)" },
          "name": { "type": "string", "description": "Display name for the texture" },
          "entityId": { "type": "string", "description": "Entity to apply texture to" },
          "slot": { "type": "string", "enum": ["base_color", "normal_map", "metallic_roughness", "emissive", "occlusion"], "description": "Material texture slot" }
        },
        "required": ["dataBase64", "name", "entityId", "slot"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "remove_texture",
      "description": "Remove a texture from a material slot on an entity",
      "category": "asset",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to remove texture from" },
          "slot": { "type": "string", "enum": ["base_color", "normal_map", "metallic_roughness", "emissive", "occlusion"], "description": "Material texture slot to clear" }
        },
        "required": ["entityId", "slot"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "place_asset",
      "description": "Spawn a new instance of a previously imported asset in the scene",
      "category": "asset",
      "parameters": {
        "type": "object",
        "properties": {
          "assetId": { "type": "string", "description": "Asset ID from the registry" }
        },
        "required": ["assetId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "delete_asset",
      "description": "Remove an asset from the registry (does not affect entities already placed in scene)",
      "category": "asset",
      "parameters": {
        "type": "object",
        "properties": {
          "assetId": { "type": "string", "description": "Asset ID to remove" }
        },
        "required": ["assetId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "list_assets",
      "description": "List all assets currently in the registry with their metadata",
      "category": "query",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "set_script",
      "description": "Set or update TypeScript script source on an entity (lifecycle: onStart, onUpdate, onDestroy)",
      "category": "scripting",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to attach script to" },
          "source": { "type": "string", "description": "TypeScript source code with onStart/onUpdate/onDestroy functions" },
          "enabled": { "type": "boolean", "description": "Whether script is active (default: true)" }
        },
        "required": ["entityId", "source"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "remove_script",
      "description": "Remove a script from an entity",
      "category": "scripting",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to remove script from" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_script",
      "description": "Get the script source and status for an entity",
      "category": "query",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to get script from" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "list_script_templates",
      "description": "List available script templates (Character Controller, Collectible, Rotating Object, Follow Camera)",
      "category": "query",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "apply_script_template",
      "description": "Apply a named script template to an entity",
      "category": "scripting",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to apply template to" },
          "template": { "type": "string", "enum": ["character_controller", "collectible", "rotating_object", "follow_camera"], "description": "Template name" }
        },
        "required": ["entityId", "template"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_audio",
      "description": "Set or update audio component on an entity",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to attach audio to" },
          "assetId": { "type": "string", "description": "Audio asset ID (optional)" },
          "volume": { "type": "number", "minimum": 0, "maximum": 1, "description": "Volume (0-1)" },
          "pitch": { "type": "number", "minimum": 0.25, "maximum": 4, "description": "Playback rate (0.25-4.0)" },
          "loopAudio": { "type": "boolean", "description": "Loop playback" },
          "spatial": { "type": "boolean", "description": "Enable 3D spatial audio" },
          "maxDistance": { "type": "number", "description": "Max distance for spatial falloff" },
          "refDistance": { "type": "number", "description": "Reference distance for spatial audio" },
          "rolloffFactor": { "type": "number", "description": "Rolloff factor for distance attenuation" },
          "autoplay": { "type": "boolean", "description": "Auto-play when entering Play mode" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "remove_audio",
      "description": "Remove audio component from an entity",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to remove audio from" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "play_audio",
      "description": "Play audio on an entity",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with audio component" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "stop_audio",
      "description": "Stop audio playback on an entity",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with audio component" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "pause_audio",
      "description": "Pause audio playback on an entity",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with audio component" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_audio",
      "description": "Get audio data for an entity",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to query" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "import_audio",
      "description": "Import an audio file into the asset registry",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "dataBase64": { "type": "string", "description": "Base64-encoded audio file data" },
          "name": { "type": "string", "description": "Filename (e.g., 'music.mp3')" }
        },
        "required": ["dataBase64", "name"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "update_audio_bus",
      "description": "Update volume, mute, or solo state of an audio bus",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "busName": { "type": "string", "description": "Name of the audio bus" },
          "volume": { "type": "number", "description": "Volume (0.0-1.0)" },
          "muted": { "type": "boolean", "description": "Mute state" },
          "soloed": { "type": "boolean", "description": "Solo state" }
        },
        "required": ["busName"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "create_audio_bus",
      "description": "Create a new audio bus",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "Name of the new bus" },
          "volume": { "type": "number", "description": "Initial volume (0.0-1.0, default 1.0)" }
        },
        "required": ["name"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "delete_audio_bus",
      "description": "Delete a custom audio bus (cannot delete master/default buses)",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "busName": { "type": "string", "description": "Name of the bus to delete" }
        },
        "required": ["busName"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_audio_buses",
      "description": "Query the current audio bus configuration",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "set_bus_effects",
      "description": "Set the effects chain for an audio bus",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "busName": { "type": "string", "description": "Name of the audio bus" },
          "effects": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "effectType": { "type": "string", "enum": ["reverb", "lowpass", "highpass", "compressor", "delay"] },
                "params": { "type": "object", "additionalProperties": { "type": "number" } },
                "enabled": { "type": "boolean" }
              },
              "required": ["effectType", "params", "enabled"]
            },
            "description": "Array of effect definitions"
          }
        },
        "required": ["busName", "effects"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "audio_crossfade",
      "description": "Crossfade audio between two entities over a duration",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "fromEntityId": { "type": "string", "description": "Entity to fade out" },
          "toEntityId": { "type": "string", "description": "Entity to fade in" },
          "durationMs": { "type": "number", "minimum": 0, "description": "Crossfade duration in milliseconds" }
        },
        "required": ["fromEntityId", "toEntityId", "durationMs"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "audio_fade_in",
      "description": "Fade in audio on an entity from silence to current volume",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with audio" },
          "durationMs": { "type": "number", "minimum": 0, "description": "Fade duration in milliseconds" }
        },
        "required": ["entityId", "durationMs"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "audio_fade_out",
      "description": "Fade out audio on an entity from current volume to silence",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with audio" },
          "durationMs": { "type": "number", "minimum": 0, "description": "Fade duration in milliseconds" }
        },
        "required": ["entityId", "durationMs"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "audio_play_one_shot",
      "description": "Play a fire-and-forget one-shot sound (no entity attachment needed)",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "assetId": { "type": "string", "description": "Audio asset ID to play" },
          "position": {
            "type": "array",
            "items": { "type": "number" },
            "minItems": 3,
            "maxItems": 3,
            "description": "Optional world position for spatial audio [x, y, z]"
          },
          "bus": { "type": "string", "description": "Audio bus to route to (default: sfx)" },
          "volume": { "type": "number", "minimum": 0, "maximum": 1, "description": "Volume (0-1)" },
          "pitch": { "type": "number", "minimum": 0.25, "maximum": 4, "description": "Playback rate" }
        },
        "required": ["assetId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "audio_add_layer",
      "description": "Add a layered audio source to an entity (runtime only, for multi-source)",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to add layer to" },
          "slotName": { "type": "string", "description": "Unique slot name for this layer" },
          "assetId": { "type": "string", "description": "Audio asset ID" },
          "volume": { "type": "number", "minimum": 0, "maximum": 1, "description": "Volume (0-1)" },
          "loop": { "type": "boolean", "description": "Loop playback" },
          "bus": { "type": "string", "description": "Audio bus (default: sfx)" }
        },
        "required": ["entityId", "slotName", "assetId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "audio_remove_layer",
      "description": "Remove a layered audio source from an entity",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to remove layer from" },
          "slotName": { "type": "string", "description": "Slot name to remove" }
        },
        "required": ["entityId", "slotName"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_ducking_rule",
      "description": "Set an audio ducking rule (target bus volume ducks when trigger bus plays)",
      "category": "audio",
      "parameters": {
        "type": "object",
        "properties": {
          "triggerBus": { "type": "string", "description": "Bus that triggers ducking when playing" },
          "targetBus": { "type": "string", "description": "Bus whose volume is reduced" },
          "duckLevel": { "type": "number", "minimum": 0, "maximum": 1, "description": "Volume fraction during duck (0.3 = 30%)" },
          "attackMs": { "type": "number", "minimum": 0, "description": "Ramp-down duration in ms" },
          "releaseMs": { "type": "number", "minimum": 0, "description": "Ramp-up duration in ms" }
        },
        "required": ["triggerBus", "targetBus"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_particle",
      "description": "Set or update particle effect on an entity. Creates a GPU particle emitter with configurable emission, velocity, color gradient, and rendering options.",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to attach particles to" },
          "preset": { "type": "string", "enum": ["fire", "smoke", "sparks", "rain", "snow", "explosion", "magic_sparkle", "dust", "trail", "custom"], "description": "Preset name (overrides all other fields)" },
          "maxParticles": { "type": "integer", "description": "Max GPU particles (100-50000)" },
          "lifetimeMin": { "type": "number", "description": "Min particle lifetime in seconds" },
          "lifetimeMax": { "type": "number", "description": "Max particle lifetime in seconds" },
          "velocityMin": { "type": "array", "items": { "type": "number" }, "description": "Min velocity [x, y, z]" },
          "velocityMax": { "type": "array", "items": { "type": "number" }, "description": "Max velocity [x, y, z]" },
          "acceleration": { "type": "array", "items": { "type": "number" }, "description": "Acceleration [x, y, z] (gravity = [0, -9.8, 0])" },
          "linearDrag": { "type": "number", "description": "Linear drag coefficient" },
          "sizeStart": { "type": "number", "description": "Particle start size" },
          "sizeEnd": { "type": "number", "description": "Particle end size" },
          "blendMode": { "type": "string", "enum": ["additive", "alpha_blend", "premultiply"], "description": "Blend mode" },
          "orientation": { "type": "string", "enum": ["billboard", "velocity_aligned", "fixed"], "description": "Particle orientation" },
          "worldSpace": { "type": "boolean", "description": "Emit in world space (true) or local space (false)" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "remove_particle",
      "description": "Remove particle effect from an entity",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to remove particles from" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "toggle_particle",
      "description": "Enable or disable particle emission on an entity without removing configuration",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Target entity" },
          "enabled": { "type": "boolean", "description": "Enable/disable emission" }
        },
        "required": ["entityId", "enabled"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_particle_preset",
      "description": "Apply a named particle preset to an entity. Replaces all particle configuration with preset defaults. Presets: fire, smoke, sparks, rain, snow, explosion, magic_sparkle, dust, trail.",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Target entity" },
          "preset": { "type": "string", "enum": ["fire", "smoke", "sparks", "rain", "snow", "explosion", "magic_sparkle", "dust", "trail"], "description": "Preset name" }
        },
        "required": ["entityId", "preset"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "play_particle",
      "description": "Start/resume particle emission on an entity",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with particle component" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "stop_particle",
      "description": "Stop particle emission on an entity",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with particle component" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "burst_particle",
      "description": "Trigger an immediate burst of particles on an entity",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with particle component" },
          "count": { "type": "integer", "description": "Number of particles to emit (default: 100)" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_particle",
      "description": "Get particle configuration for an entity",
      "category": "particles",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to query" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "play_animation",
      "description": "Play a named animation clip on an entity. Uses crossfade blending for smooth transitions between clips.",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with animation clips (glTF model)" },
          "clipName": { "type": "string", "description": "Name of the animation clip to play" },
          "crossfadeSecs": { "type": "number", "description": "Crossfade duration in seconds (default: 0.3)" }
        },
        "required": ["entityId", "clipName"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "pause_animation",
      "description": "Pause the currently playing animation on an entity",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with playing animation" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "resume_animation",
      "description": "Resume a paused animation on an entity",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with paused animation" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "stop_animation",
      "description": "Stop all animations on an entity and reset to bind pose",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with playing animation" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "seek_animation",
      "description": "Seek to a specific time in the current animation clip",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with animation" },
          "timeSecs": { "type": "number", "description": "Time to seek to in seconds" }
        },
        "required": ["entityId", "timeSecs"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_animation_speed",
      "description": "Set the playback speed of animation on an entity",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with animation" },
          "speed": { "type": "number", "description": "Playback speed multiplier (1.0 = normal, 2.0 = double speed, 0.5 = half speed)" }
        },
        "required": ["entityId", "speed"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_animation_loop",
      "description": "Enable or disable looping for the current animation on an entity",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with animation" },
          "looping": { "type": "boolean", "description": "Whether animation should loop" }
        },
        "required": ["entityId", "looping"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_animation_state",
      "description": "Get the current animation playback state for an entity, including active clip, speed, elapsed time, and loop status",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to query" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "list_animations",
      "description": "List all available animation clips on an entity. Returns clip names and durations.",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to query (must be a glTF model with animations)" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "set_animation_blend_weight",
      "description": "Set the blend weight for a specific animation clip (0.0-1.0). Used to blend multiple animations together.",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with animation" },
          "clipName": { "type": "string", "description": "Name of the clip to control" },
          "weight": { "type": "number", "description": "Blend weight (0.0 = no influence, 1.0 = full influence)", "minimum": 0.0, "maximum": 1.0 }
        },
        "required": ["entityId", "clipName", "weight"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_clip_speed",
      "description": "Set the playback speed for a specific animation clip",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity with animation" },
          "clipName": { "type": "string", "description": "Name of the clip to control" },
          "speed": { "type": "number", "description": "Playback speed multiplier (1.0 = normal, 2.0 = double speed)" }
        },
        "required": ["entityId", "clipName", "speed"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_animation_graph",
      "description": "Get the animation graph state showing all node weights and speeds for an entity",
      "category": "animation",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity to query" }
        },
        "required": ["entityId"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "export_game",
      "description": "Export the current scene as a standalone HTML game file",
      "category": "export",
      "parameters": {
        "type": "object",
        "properties": {
          "title": { "type": "string", "description": "Game title (defaults to scene name)" },
          "mode": { "type": "string", "enum": ["single-html", "zip"], "description": "Export mode (default: single-html)" },
          "resolution": { "type": "string", "description": "Canvas resolution: 'responsive', '1920x1080', '1280x720' (default: responsive)" }
        },
        "required": []
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "get_export_status",
      "description": "Check if an export operation is currently in progress",
      "category": "export",
      "parameters": {
        "type": "object",
        "properties": {}
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "csg_union",
      "description": "Combine two mesh entities using CSG union (boolean add)",
      "category": "mesh",
      "parameters": {
        "type": "object",
        "properties": {
          "entityIdA": { "type": "string", "description": "Entity ID of first mesh (A)" },
          "entityIdB": { "type": "string", "description": "Entity ID of second mesh (B)" },
          "deleteSources": { "type": "boolean", "description": "Delete source entities after operation (default: true)" },
          "name": { "type": "string", "description": "Name for result entity (auto-generated if omitted)" }
        },
        "required": ["entityIdA", "entityIdB"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "csg_subtract",
      "description": "Subtract mesh B from mesh A using CSG boolean subtraction",
      "category": "mesh",
      "parameters": {
        "type": "object",
        "properties": {
          "entityIdA": { "type": "string", "description": "Entity ID of first mesh (A)" },
          "entityIdB": { "type": "string", "description": "Entity ID of second mesh (B)" },
          "deleteSources": { "type": "boolean", "description": "Delete source entities after operation (default: true)" },
          "name": { "type": "string", "description": "Name for result entity (auto-generated if omitted)" }
        },
        "required": ["entityIdA", "entityIdB"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "csg_intersect",
      "description": "Compute the intersection of two mesh entities using CSG boolean intersection",
      "category": "mesh",
      "parameters": {
        "type": "object",
        "properties": {
          "entityIdA": { "type": "string", "description": "Entity ID of first mesh (A)" },
          "entityIdB": { "type": "string", "description": "Entity ID of second mesh (B)" },
          "deleteSources": { "type": "boolean", "description": "Delete source entities after operation (default: true)" },
          "name": { "type": "string", "description": "Name for result entity (auto-generated if omitted)" }
        },
        "required": ["entityIdA", "entityIdB"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "extrude_shape",
      "description": "Create a 3D mesh by extruding a 2D cross-section along a path",
      "category": "mesh",
      "parameters": {
        "type": "object",
        "properties": {
          "shape": { "type": "string", "enum": ["circle", "square", "hexagon", "star"], "description": "Cross-section shape: circle, square, hexagon, or star" },
          "radius": { "type": "number", "description": "Radius of the cross-section (for circle, hexagon, star outer). Default: 0.5" },
          "length": { "type": "number", "description": "Length of extrusion along Y-axis. Default: 2.0" },
          "segments": { "type": "integer", "minimum": 3, "maximum": 64, "description": "Number of segments for circular shapes. Default: 16" },
          "innerRadius": { "type": "number", "description": "Inner radius for star shape. Default: 0.25" },
          "starPoints": { "type": "integer", "minimum": 3, "maximum": 20, "description": "Number of points for star shape. Default: 5" },
          "size": { "type": "number", "description": "Side length for square shape. Default: 1.0" },
          "name": { "type": "string", "description": "Name for the result entity" },
          "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "World position [x, y, z]" }
        },
        "required": ["shape"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "lathe_shape",
      "description": "Create a 3D mesh by revolving a 2D profile around the Y-axis",
      "category": "mesh",
      "parameters": {
        "type": "object",
        "properties": {
          "profile": { "type": "array", "items": { "type": "array", "items": { "type": "number" }, "minItems": 2, "maxItems": 2 }, "minItems": 2, "description": "Array of [radius, height] points defining the 2D profile" },
          "segments": { "type": "integer", "minimum": 8, "maximum": 64, "description": "Number of rotational segments (8-64). Default: 32" },
          "name": { "type": "string", "description": "Name for the result entity" },
          "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "World position [x, y, z]" }
        },
        "required": ["profile"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "array_entity",
      "description": "Duplicate an entity in a grid (NxMxK) or circular pattern",
      "category": "mesh",
      "parameters": {
        "type": "object",
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID to duplicate" },
          "pattern": { "type": "string", "enum": ["grid", "circle"], "description": "Array pattern: grid or circle" },
          "countX": { "type": "integer", "minimum": 1, "maximum": 20, "description": "Grid count along X axis. Default: 3" },
          "countY": { "type": "integer", "minimum": 1, "maximum": 20, "description": "Grid count along Y axis. Default: 1" },
          "countZ": { "type": "integer", "minimum": 1, "maximum": 20, "description": "Grid count along Z axis. Default: 3" },
          "spacingX": { "type": "number", "description": "Grid spacing along X. Default: 2.0" },
          "spacingY": { "type": "number", "description": "Grid spacing along Y. Default: 2.0" },
          "spacingZ": { "type": "number", "description": "Grid spacing along Z. Default: 2.0" },
          "circleCount": { "type": "integer", "minimum": 2, "maximum": 100, "description": "Number of copies in circle pattern. Default: 8" },
          "circleRadius": { "type": "number", "description": "Radius of circle pattern. Default: 5.0" }
        },
        "required": ["entityId", "pattern"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "combine_meshes",
      "description": "Merge multiple mesh entities into a single entity",
      "category": "mesh",
      "parameters": {
        "type": "object",
        "properties": {
          "entityIds": { "type": "array", "items": { "type": "string" }, "minItems": 2, "description": "Array of entity IDs to merge" },
          "deleteSources": { "type": "boolean", "description": "Delete source entities after combining. Default: true" },
          "name": { "type": "string", "description": "Name for the combined entity" }
        },
        "required": ["entityIds"]
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "spawn_terrain",
      "description": "Spawn a procedural terrain entity with noise-based heightmap",
      "category": "terrain",
      "parameters": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "Display name for the terrain entity" },
          "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3, "description": "World position [x, y, z]" },
          "noiseType": { "type": "string", "enum": ["perlin", "simplex", "value"], "description": "Noise algorithm" },
          "octaves": { "type": "integer", "minimum": 1, "maximum": 8, "description": "Number of noise octaves" },
          "frequency": { "type": "number", "description": "Base noise frequency" },
          "amplitude": { "type": "number", "description": "Noise amplitude (persistence)" },
          "heightScale": { "type": "number", "description": "Overall height multiplier" },
          "seed": { "type": "integer", "description": "Random seed" },
          "resolution": { "type": "integer", "enum": [32, 64, 128, 256], "description": "Grid vertices per side" },
          "size": { "type": "number", "description": "World-space width/depth" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "update_terrain",
      "description": "Update terrain noise parameters and regenerate the heightmap mesh",
      "category": "terrain",
      "parameters": {
        "type": "object",
        "required": ["entityId"],
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID of the terrain" },
          "noiseType": { "type": "string", "enum": ["perlin", "simplex", "value"] },
          "octaves": { "type": "integer", "minimum": 1, "maximum": 8 },
          "frequency": { "type": "number" },
          "amplitude": { "type": "number" },
          "heightScale": { "type": "number" },
          "seed": { "type": "integer" },
          "resolution": { "type": "integer", "enum": [32, 64, 128, 256] },
          "size": { "type": "number" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "sculpt_terrain",
      "description": "Modify terrain heightmap at a specific position with a brush",
      "category": "terrain",
      "parameters": {
        "type": "object",
        "required": ["entityId", "position", "radius", "strength"],
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID of the terrain" },
          "position": { "type": "array", "items": { "type": "number" }, "minItems": 2, "maxItems": 2, "description": "Sculpt center [x, z] in terrain local space" },
          "radius": { "type": "number", "description": "Brush radius in world units" },
          "strength": { "type": "number", "description": "Brush strength (positive=raise, negative=lower)" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_terrain",
      "description": "Get terrain noise parameters for an entity",
      "category": "terrain",
      "parameters": {
        "type": "object",
        "required": ["entityId"],
        "properties": {
          "entityId": { "type": "string", "description": "Entity ID of the terrain" }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "search_docs",
      "description": "Search Project Forge documentation by keyword. Returns ranked results with snippets.",
      "category": "docs",
      "parameters": {
        "type": "object",
        "properties": {
          "query": { "type": "string", "description": "Search query (keywords or natural language question)" },
          "maxResults": { "type": "number", "description": "Maximum results to return (default: 10)" }
        },
        "required": ["query"]
      },
      "tokenCost": 0,
      "requiredScope": "docs:read"
    },
    {
      "name": "get_doc",
      "description": "Retrieve a full documentation page by its path (e.g., 'features/physics')",
      "category": "docs",
      "parameters": {
        "type": "object",
        "properties": {
          "path": { "type": "string", "description": "Document path relative to docs/ without .md extension (e.g., 'features/physics')" }
        },
        "required": ["path"]
      },
      "tokenCost": 0,
      "requiredScope": "docs:read"
    },
    {
      "name": "list_doc_topics",
      "description": "List all available documentation topics with descriptions and tags",
      "category": "docs",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "tokenCost": 0,
      "requiredScope": "docs:read"
    },
    {
      "name": "list_material_presets",
      "description": "List all available material presets with their IDs, names, categories, and descriptions. Use this to discover materials before applying them.",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string",
            "description": "Optional filter by category",
            "enum": ["basic", "metal", "natural", "glass", "special", "fabric", "plastic", "stone", "wood"]
          }
        }
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    },
    {
      "name": "save_material_to_library",
      "description": "Save the current material of the selected entity as a named custom preset in the material library.",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name for the custom material preset"
          }
        },
        "required": ["name"]
      },
      "tokenCost": 1,
      "requiredScope": "scene:write"
    },
    {
      "name": "delete_library_material",
      "description": "Delete a custom material from the material library by its ID.",
      "category": "materials",
      "parameters": {
        "type": "object",
        "properties": {
          "materialId": {
            "type": "string",
            "description": "ID of the custom material to delete"
          }
        },
        "required": ["materialId"]
      },
      "tokenCost": 1,
      "requiredScope": "scene:write"
    },
    {
      "name": "set_quality_preset",
      "description": "Set a rendering quality preset that adjusts MSAA, shadows, bloom, sharpening, and particle density all at once",
      "category": "rendering",
      "parameters": {
        "type": "object",
        "properties": {
          "preset": {
            "type": "string",
            "enum": ["low", "medium", "high", "ultra"],
            "description": "Quality preset level"
          }
        },
        "required": ["preset"]
      },
      "tokenCost": 1,
      "requiredScope": "scene:write"
    },
    {
      "name": "get_quality_settings",
      "description": "Get the current quality preset and all rendering quality parameters",
      "category": "rendering",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "tokenCost": 0,
      "requiredScope": "scene:read"
    }
  ],
  "resources": [
    {
      "uri": "forge://scene/graph",
      "name": "Scene Graph",
      "description": "Current scene hierarchy with all entities",
      "mimeType": "application/json"
    },
    {
      "uri": "forge://scene/selection",
      "name": "Current Selection",
      "description": "Currently selected entity IDs and primary selection",
      "mimeType": "application/json"
    },
    {
      "uri": "forge://project/info",
      "name": "Project Info",
      "description": "Project metadata and settings",
      "mimeType": "application/json"
    },
    {
      "uri": "forge://docs/index",
      "name": "Documentation Index",
      "description": "Master index of all documentation topics with tags",
      "mimeType": "application/json"
    },
    {
      "uri": "forge://docs/{path}",
      "name": "Documentation Page",
      "description": "Individual documentation page by path (e.g., forge://docs/features/physics)",
      "mimeType": "text/markdown"
    }
  ]
}
